var y;(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");e.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return e}a.prototype=window.Event.prototype;window.CustomEvent=a})();function aa(){console.warn.apply(console,arguments)}function z(){console.error.apply(console,arguments)};function A(a,b){this.x=a||0;this.y=b||0}
A.prototype={constructor:A,set:function(a,b){this.x=a;this.y=b;return this},g:function(a){this.x=a.x;this.y=a.y;return this},add:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a){this.x-=a.x;this.y-=a.y;return this},G:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},s:function(a){this.x*=a;this.y*=a;return this},V:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<
a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},L:function(a){return this.x*a.x+this.y*a.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.V(this.length())},na:function(a){var b=this.x-a.x;a=this.y-a.y;
return b*b+a*a},clone:function(){return new A(this.x,this.y)}};function B(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}
B.prototype={constructor:B,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},g:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},G:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},s:function(a){this.x*=a;this.y*=a;this.z*=a;return this},T:function(){var a;return function(b){void 0===a&&(a=new C);ba(a,b.o,ca(a,b.F));b=this.x;var c=
this.y,e=this.z,f=a.elements,d=1/(f[3]*b+f[7]*c+f[11]*e+f[15]);this.x=(f[0]*b+f[4]*c+f[8]*e+f[12])*d;this.y=(f[1]*b+f[5]*c+f[9]*e+f[13])*d;this.z=(f[2]*b+f[6]*c+f[10]*e+f[14])*d;return this}}(),V:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},floor:function(){this.x=
Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},L:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.V(this.length())},na:function(a){var b=
this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},clone:function(){return new B(this.x,this.y,this.z)}};function D(a,b,c,e){this.b=a||0;this.c=b||0;this.f=c||0;this.h=void 0!==e?e:1}
D.prototype={constructor:D,b:0,c:0,f:0,h:0,get x(){return this.b},set x(a){this.b=a},get y(){return this.c},set y(a){this.c=a},get z(){return this.f},set z(a){this.f=a},get fa(){return this.h},set fa(a){this.h=a},set:function(a,b,c,e){this.b=a;this.c=b;this.f=c;this.h=e;return this},g:function(a){this.b=a.x;this.c=a.y;this.f=a.z;this.h=a.fa;return this},Oa:function(){var a,b;return function(c,e){void 0===a&&(a=new B);b=c.L(e)+1;if(1E-6>b)b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,
c.y);else{var f=a,d=c.x,g=c.y,m=c.z,h=e.x,k=e.y,n=e.z;f.x=g*n-m*k;f.y=m*h-d*n;f.z=d*k-g*h}this.b=a.x;this.c=a.y;this.f=a.z;this.h=b;this.normalize();return this}}(),inverse:function(){this.b*=-1;this.c*=-1;this.f*=-1;this.normalize();return this},L:function(a){return this.b*a.b+this.c*a.c+this.f*a.f+this.h*a.h},length:function(){return Math.sqrt(this.b*this.b+this.c*this.c+this.f*this.f+this.h*this.h)},normalize:function(){var a=this.length();0===a?(this.f=this.c=this.b=0,this.h=1):(a=1/a,this.b=
this.b*a,this.c=this.c*a,this.f=this.f*a,this.h=this.h*a);return this},clone:function(){return new D(this.b,this.c,this.f,this.h)}};D.Qa=function(){return(void 0).g(void 0).Qa()};function C(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}
C.prototype={constructor:C,g:function(a){this.elements.set(a.elements);return this},s:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},scale:function(a){var b=this.elements,c=a.x,e=a.y;a=a.z;b[0]*=c;b[4]*=e;b[8]*=a;b[1]*=c;b[5]*=e;b[9]*=a;b[2]*=c;b[6]*=e;b[10]*=a;b[3]*=c;b[7]*=e;b[11]*=
a;return this}};function da(a,b,c,e,f,d,g){a=a.elements;a[0]=2*d/(c-b);a[4]=0;a[8]=(c+b)/(c-b);a[12]=0;a[1]=0;a[5]=2*d/(f-e);a[9]=(f+e)/(f-e);a[13]=0;a[2]=0;a[6]=0;a[10]=-(g+d)/(g-d);a[14]=-2*g*d/(g-d);a[3]=0;a[7]=0;a[11]=-1;a[15]=0}
function ca(a,b){var c=a.elements,e=b.elements,f=e[0],d=e[4],g=e[8],m=e[12],h=e[1],k=e[5],n=e[9],q=e[13],l=e[2],t=e[6],r=e[10],u=e[14],v=e[3],w=e[7],p=e[11],e=e[15];c[0]=n*u*w-q*r*w+q*t*p-k*u*p-n*t*e+k*r*e;c[4]=m*r*w-g*u*w-m*t*p+d*u*p+g*t*e-d*r*e;c[8]=g*q*w-m*n*w+m*k*p-d*q*p-g*k*e+d*n*e;c[12]=m*n*t-g*q*t-m*k*r+d*q*r+g*k*u-d*n*u;c[1]=q*r*v-n*u*v-q*l*p+h*u*p+n*l*e-h*r*e;c[5]=g*u*v-m*r*v+m*l*p-f*u*p-g*l*e+f*r*e;c[9]=m*n*v-g*q*v-m*h*p+f*q*p+g*h*e-f*n*e;c[13]=g*q*l-m*n*l+m*h*r-f*q*r-g*h*u+f*n*u;c[2]=k*
u*v-q*t*v+q*l*w-h*u*w-k*l*e+h*t*e;c[6]=m*t*v-d*u*v-m*l*w+f*u*w+d*l*e-f*t*e;c[10]=d*q*v-m*k*v+m*h*w-f*q*w-d*h*e+f*k*e;c[14]=m*k*l-d*q*l-m*h*t+f*q*t+d*h*u-f*k*u;c[3]=n*t*v-k*r*v-n*l*w+h*r*w+k*l*p-h*t*p;c[7]=d*r*v-g*t*v+g*l*w-f*r*w-d*l*p+f*t*p;c[11]=g*k*v-d*n*v-g*h*w+f*n*w+d*h*p-f*k*p;c[15]=d*n*l-g*k*l+g*h*t-f*n*t-d*h*r+f*k*r;c=f*c[0]+h*c[4]+l*c[8]+v*c[12];if(0==c)return aa("Can't invert matrix, determinant is 0"),a.Ua(),a;a.s(1/c);return a}
function ba(a,b,c){var e=b.elements;c=c.elements;a=a.elements;b=e[0];var f=e[4],d=e[8],g=e[12],m=e[1],h=e[5],k=e[9],n=e[13],q=e[2],l=e[6],t=e[10],r=e[14],u=e[3],v=e[7],w=e[11],e=e[15],p=c[0],x=c[4],J=c[8],E=c[12],F=c[1],N=c[5],O=c[9],P=c[13],Q=c[2],R=c[6],S=c[10],T=c[14],U=c[3],V=c[7],W=c[11];c=c[15];a[0]=b*p+f*F+d*Q+g*U;a[4]=b*x+f*N+d*R+g*V;a[8]=b*J+f*O+d*S+g*W;a[12]=b*E+f*P+d*T+g*c;a[1]=m*p+h*F+k*Q+n*U;a[5]=m*x+h*N+k*R+n*V;a[9]=m*J+h*O+k*S+n*W;a[13]=m*E+h*P+k*T+n*c;a[2]=q*p+l*F+t*Q+r*U;a[6]=q*x+
l*N+t*R+r*V;a[10]=q*J+l*O+t*S+r*W;a[14]=q*E+l*P+t*T+r*c;a[3]=u*p+v*F+w*Q+e*U;a[7]=u*x+v*N+w*R+e*V;a[11]=u*J+v*O+w*S+e*W;a[15]=u*E+v*P+w*T+e*c};function G(){}
G.prototype={constructor:G,apply:function(a){a.addEventListener=G.prototype.addEventListener;a.hasEventListener=G.prototype.Fa;a.removeEventListener=G.prototype.va;a.dispatchEvent=G.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this.m&&(this.m={});var c=this.m;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},Fa:function(a,b){if(void 0===this.m)return!1;var c=this.m;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},va:function(a,b){if(void 0!==this.m){var c=this.m[a];
if(void 0!==c){var e=c.indexOf(b);-1!==e&&c.splice(e,1)}}},dispatchEvent:function(a){if(void 0!==this.m){var b=this.m[a.type];if(void 0!==b){a.target=this;for(var c=[],e=b.length,f=0;f<e;f++)c[f]=b[f];for(f=0;f<e;f++)c[f].call(this,a)}}}};var ea=function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,e;return function(){for(var f=0;36>f;f++)8==f||13==f||18==f||23==f?b[f]="-":14==f?b[f]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),e=c&15,c>>=4,b[f]=a[19==f?e&3|8:e]);return b.join("")}}(),H=function(){var a=Math.PI/180;return function(b){return b*a}}(),fa=function(){var a=180/Math.PI;return function(b){return b*a}}();function I(){Object.defineProperty(this,"id",{value:ga++});ea();this.name="";this.type="Object3D";this.parent=void 0;this.children=[];this.Sa=I.xa.clone();Object.defineProperties(this,{position:{enumerable:!0,value:new B},ca:{enumerable:!0,value:new D},scale:{enumerable:!0,value:new B(1,1,1)}});this.w=new C;this.o=new C;this.$=!0;this.aa=!1;this.visible=!0}I.xa=new B(0,1,0);
I.prototype={constructor:I,add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return z("Object3D.add: object can't be added as a child of itself.",a),this;a instanceof I?(void 0!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):z("Object3D.add: object not an instance of Object3D.",a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);
b=this.children.indexOf(a);-1!==b&&(a.parent=void 0,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))}};
function K(a,b){if(!0===a.$){var c=a.w,e=a.position,f=a.scale,d=a.ca,g=c.elements,m=d.x,h=d.y,k=d.z,n=d.fa,q=m+m,l=h+h,t=k+k,d=m*q,r=m*l,m=m*t,u=h*l,h=h*t,k=k*t,q=n*q,l=n*l,n=n*t;g[0]=1-(u+k);g[4]=r-n;g[8]=m+l;g[1]=r+n;g[5]=1-(d+k);g[9]=h-q;g[2]=m-l;g[6]=h+q;g[10]=1-(d+u);g[3]=0;g[7]=0;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;c.scale(f);c.setPosition(e);a.aa=!0}if(!0===a.aa||!0===b)void 0===a.parent?a.o.g(a.w):ba(a.o,a.parent.o,a.w),a.aa=!1,b=!0;c=0;for(e=a.children.length;c<e;c++)K(a.children[c],
b)}G.prototype.apply(I.prototype);var ga=0;function L(){I.call(this);this.type="Camera";this.Ga=new C;this.F=new C}L.prototype=Object.create(I.prototype);L.prototype.constructor=L;function M(a,b,c,e){L.call(this);this.type="PerspectiveCamera";this.zoom=1;this.l=void 0!==a?a:50;this.I=void 0!==b?b:1;this.A=void 0!==c?c:.1;this.M=void 0!==e?e:2E3;ha(this)}M.prototype=Object.create(L.prototype);M.prototype.constructor=M;
function ha(a){var b=fa(2*Math.atan(Math.tan(.5*H(a.l))/a.zoom));if(a.Z){var c=a.Z/a.oa,e=Math.tan(H(.5*b))*a.A,b=-e,f=c*b,c=Math.abs(c*e-f),b=Math.abs(e-b);da(a.F,f+a.x*c/a.Z,f+(a.x+a.width)*c/a.Z,e-(a.y+a.height)*b/a.oa,e-a.y*b/a.oa,a.A,a.M)}else{e=a.F;f=a.I;c=a.A;a=a.M;var b=c*Math.tan(H(.5*b)),d=-b;da(e,d*f,b*f,d,b,c,a)}}M.prototype.clone=function(){var a=new M;L.prototype.clone.call(this,a);a.zoom=this.zoom;a.l=this.l;a.I=this.I;a.A=this.A;a.M=this.M;a.F.g(this.F);return a};function X(){I.call(this);this.type="Scene";this.ba=this.Y=null;this.la=!0}X.prototype=Object.create(I.prototype);X.prototype.constructor=X;X.prototype.clone=function(a){void 0===a&&(a=new X);I.prototype.clone.call(this,a);null!==this.Y&&(a.Y=this.Y.clone());null!==this.ba&&(a.ba=this.ba.clone());a.la=this.la;a.$=this.$;return a};function Y(a){I.call(this);this.element=a;this.element.style.position="absolute";this.addEventListener("removed",function(){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})}Y.prototype=Object.create(I.prototype);
function ia(a){function b(a,c){if(a instanceof Y){var d=a.o.elements,d=" matrix(1,0,0,1,"+d[12]+","+d[13]+")",e=a.element,f=g[a.id];if(void 0===f||f!==d)e.style.WebkitTransform=d,e.style.MozTransform=d,e.style.Ja=d,e.style.transform=d,g[a.id]=d;e.parentNode!==k&&k.appendChild(e)}d=0;for(e=a.children.length;d<e;d++)b(a.children[d],c)}var c,e=!0,f=0,d="",g={},m=1,h=document.createElement("div");a&&(h=a);h.style.overflow="hidden";this.a=h;var k=document.createElement("div");h.appendChild(k);this.Pa=
function(a){e=a};this.ra=function(a,b){c=b;h.style.width=a+"px";h.style.height=b+"px";k.style.width=a+"px";k.style.height=b+"px"};this.i=function(a,g){var l=.5/Math.tan(H(.5*g.l))*c;f!==l&&(f=l);K(a);void 0===g.parent&&K(g);ca(g.Ga,g.o);l=" scale("+this.Da(g,h)+") translate("+-g.position.x+"px,"+g.position.y+"px)"+(e?" translate3d(0,0,0)":"");d!==l&&(k.style.WebkitTransform=l,k.style.MozTransform=l,k.style.Ja=l,d=k.style.transform=l);b(a,g)};this.Da=function(a,b){var c=m;if(0!==b.clientHeight||"undefined"===
typeof m)m=c=.5/Math.tan(H(.5*a.l))*b.clientHeight;return c/a.position.z}};function ja(a,b){function c(a){if(!1!==d.enabled){a.preventDefault();if(x===p.ga){if(!0===d.C)return;l.set(a.clientX,a.clientY);t.G(l,q);0<t.y?d.W():d.X();q.g(l)}else if(x===p.ha){if(!0===d.B)return;m.set(a.clientX,a.clientY);h.G(m,g);d.pan(h.x,h.y);g.g(m)}d.update()}}function e(a){if(!1!==d.enabled){if(2==a.button&&"undefined"!==d.ea&&130>new Date-d.ea.time){a=d.ea.Ka;var b=new CustomEvent("mz_contextmenu");b.clientX=a.clientX;b.clientY=a.clientY;b.target=a.target;a.target.dispatchEvent(b)}document.removeEventListener("mousemove",
c,!1);document.removeEventListener("mouseup",e,!1);d.dispatchEvent(F);x=p.NONE}}function f(a){!0===d.U&&(d.clientX=a.clientX,d.clientY=a.clientY,d.da=!0);if(!1!==d.enabled&&!0!==d.C){var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?d.X():d.W();d.update();d.dispatchEvent(E);d.dispatchEvent(F)}}this.object=a;this.a=void 0!==b?b:document;this.enabled=!0;this.target=new B;this.C=!1;this.H=1;this.U=!0;this.P=.05;this.K=this.O=1;this.D=2;this.B=!1;this.N=7;this.Ia=!1;this.keys=
{ta:37,wa:38,ua:39,sa:40};var d=this,g=new A,m=new A,h=new A,k=new B,n=new B,q=new A,l=new A,t=new A,r=1,u=new B,v=new B,w=new D,p={NONE:-1,ga:1,ha:2,ia:4,ja:5},x=p.NONE;this.Ra=this.target.clone();this.La=this.object.position.clone();(new D).Oa(a.Sa,new B(0,1,0)).clone().inverse();var J={type:"change"},E={type:"start"},F={type:"end"};this.qa=function(a){r=.5/Math.tan(H(.5*this.object.l))*this.a.clientHeight/a/this.object.position.z};this.R=function(a){var b=this.object.w.elements;k.set(b[0],b[1],
b[2]);k.s(-a);u.add(k)};this.S=function(a){var b=this.object.w.elements;k.set(b[4],b[5],b[6]);k.s(a);u.add(k)};this.pan=function(a,b){var c=d.a===document?d.a.body:d.a;if(void 0!==d.object.l){var e=d.object.position.clone().sub(d.target).length(),e=e*Math.tan(d.object.l/2*Math.PI/180);d.R(2*a*e/c.clientHeight);d.S(2*b*e/c.clientHeight)}else void 0!==d.object.top?(d.R(a*(d.object.right-d.object.left)/c.clientWidth),d.S(b*(d.object.top-d.object.bottom)/c.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")};
this.W=function(){var a;void 0===a&&(a=Math.pow(.95,d.H));r/=a};this.X=function(){var a;void 0===a&&(a=Math.pow(.95,d.H));r*=a};this.T=function(a){var b=new B;b.set(d.clientX/d.a.clientWidth*2-1,2*-(d.clientY/d.a.clientHeight)+1,.5);b.T(a);var b=b.sub(a.position).normalize(),c=-a.position.z/b.z;return a.position.clone().add(b.s(c))};this.update=function(a){var b;d.da&&(b=d.T(this.object).clone());var c=this.object.position;n.g(c).sub(this.target);var e=n.length()*r,f=.5/Math.tan(H(.5*this.object.l))*
this.a.clientHeight;n.z=Math.max(f/this.O,Math.min(f/this.P,e));d.K=f/n.z;this.target.add(u);c.g(this.target).add(n);r=1;u.set(0,0,0);if(!0===d.da&&!0!==a)d.da=!1,K(this.object),a=d.T(this.object).sub(b),d.R(a.x),d.S(-a.y),d.update();else if(1E-6<v.na(this.object.position)||1E-6<8*(1-w.L(this.object.ca)))this.dispatchEvent(J),v.g(this.object.position),w.g(this.object.ca)};this.reset=function(){x=p.NONE;this.target.g(this.Ra);this.object.position.g(this.La);this.update()};this.a.addEventListener("mousedown",
function(a){if(!1!==d.enabled){if(1===a.button){if(!0===d.C)return;a.preventDefault();x=p.ga;q.set(a.clientX,a.clientY)}else if(a.button===d.D){if(!0===d.B)return;a.preventDefault();x=p.ha;g.set(a.clientX,a.clientY);d.ea={time:new Date,Ka:a}}document.addEventListener("mousemove",c,!1);document.addEventListener("mouseup",e,!1);d.dispatchEvent(E)}},!1);this.a.addEventListener("mousewheel",f,!1);this.a.addEventListener("DOMMouseScroll",f,!1);this.a.addEventListener("touchstart",function(a){if(!1!==d.enabled){switch(a.touches.length){case 1:return;
case 2:if(!0===d.C)return;x=p.ia;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;q.set(0,Math.sqrt(b*b+a*a));break;case 3:if(!0===d.B)return;x=p.ja;g.set(a.touches[0].pageX,a.touches[0].pageY);break;default:x=p.NONE}d.dispatchEvent(E)}},!1);this.a.addEventListener("touchend",function(){!1!==d.enabled&&(d.dispatchEvent(F),x=p.NONE)},!1);this.a.addEventListener("touchmove",function(a){if(!1!==d.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:break;
case 2:if(!0===d.C)break;if(x!==p.ia)break;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;l.set(0,Math.sqrt(b*b+a*a));t.G(l,q);0<t.y?d.X():d.W();q.g(l);d.update();break;case 3:if(!0===d.B)break;if(x!==p.ja)break;m.set(a.touches[0].pageX,a.touches[0].pageY);h.G(m,g);d.pan(h.x,h.y);g.g(m);d.update();break;default:x=p.NONE}},!1);window.addEventListener("keydown",function(a){if(!1!==d.enabled&&!0!==d.Ia&&!0!==d.B)switch(a.keyCode){case d.keys.wa:d.pan(0,d.N);d.update();
break;case d.keys.sa:d.pan(0,-d.N);d.update();break;case d.keys.ta:d.pan(d.N,0);d.update();break;case d.keys.ua:d.pan(-d.N,0),d.update()}},!1);this.update()}ja.prototype=Object.create(G.prototype);function Z(a){var b=a||{};a={};a.Aa=b.containerId||"makeItZoom";a.O=b.maxZoomScale||1;a.P=b.minZoomScale||.1;a.H=b.zoomSpeed||2;a.U=!1!==b.zoomTowardMouse;a.D="undefined"!=typeof b.panButton?b.D:2;a.ma="boolean"===typeof b.disableNativeContextMenu?b.ma:!0;a.Ea=!1!==b.hardwareAccelerated;a.fullScreen=!0===b.fullScreen;this.options=a;this.j=document.getElementById(a.Aa);b=this.za.call(this,this.j);this.width=this.j.offsetWidth;this.height=this.j.offsetHeight;this.J=new M(70,this.width/this.height,1,
1E6);this.v=new X;this.u=new ia(this.j);this.u.ra(this.width,this.height);this.u.Pa(a.Ea);this.u.a.style.position="absolute";this.Na.call(this,b);this.i=this.i.bind(this);ka(this);this.controls.qa(1);this.i();la(this,a.fullScreen)}
function la(a,b){function c(){e.j.style.width=window.innerWidth;e.j.style.height=window.innerHeight;e.width=e.j.offsetWidth;e.height=e.j.offsetHeight;e.J.I=window.innerWidth/window.innerHeight;ha(e.J);e.u.ra(window.innerWidth,window.innerHeight);e.i()}var e=a;!0===b?(c(),window.addEventListener("resize",c,!1)):window.removeEventListener("resize",c,!1)}y=Z.prototype;y.Ba=function(){return this.j};
y.za=function(a){var b=this,c=[];ma(this,a,function(a){a.Ha=b.pa(a);c.push(a)});ma(this,a,function(a){a.parentNode.removeChild(a)});return c};y.Na=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.ka.call(this,c,c.Ha)}};function ma(a,b,c){b=b.children;for(var e=0;e<b.length;e++)c.call(a,b[e])}
function ka(a){a.controls=new ja(a.J,a.u.a);a.controls.H=a.options.H;a.controls.P=a.options.P;a.controls.O=a.options.O;a.controls.U=a.options.U;a.controls.D=a.options.D;!0===a.options.ma&&a.controls.a.addEventListener("contextmenu",function(a){a.preventDefault()},!1);a.controls.addEventListener("change",a.i);a.i()}
y.i=function(){this.u.i(this.v,this.J);var a=new CustomEvent("mz_render");a.mz_scale=this.controls.K;a.mz_center_x=this.controls.object.position.x;a.mz_center_y=this.controls.object.position.y;this.dispatchEvent(a)};y.ka=function(a,b){var c=new Y(a);c.position.x=b.left;c.position.y=b.top;c.position.z=0;this.v.add(c)};y.ya=function(a,b){this.ka(a,b);this.i()};
y.Ma=function(a){for(var b=null,c=0;c<this.v.children.length;c++)this.v.children[c].element===a&&(b=this.v.children[c]);null!==b?this.v.remove(b):console.warn("The specified element could not be removed from the makeItZoom workspace, because it couldn't be found.");this.i()};y.pa=function(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};y.Ca=function(){return this.controls.K};
y.Ta=function(a,b,c){var e=this.controls.object.position.x,f=this.controls.object.position.y,d=this.controls.K;"number"!==typeof a&&(a=e);"number"!==typeof b&&(b=f);"number"!==typeof c&&(c=d);this.controls.R(e-a);this.controls.S(b-f);this.controls.qa(c);this.controls.update(!0)};G.prototype.apply(Z.prototype);window.makeItZoom=Z;Z.prototype.addZoomable=Z.prototype.ya;Z.prototype.removeZoomable=Z.prototype.Ma;Z.prototype.zoomTo=Z.prototype.Ta;Z.prototype.getCurrentScale=Z.prototype.Ca;
Z.prototype.getOffset=Z.prototype.pa;Z.prototype.getContainer=Z.prototype.Ba;
