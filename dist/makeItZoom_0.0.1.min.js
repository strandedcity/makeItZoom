var y;(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return d}a.prototype=window.Event.prototype;window.CustomEvent=a})();function z(){console.warn.apply(console,arguments)}function aa(){console.error.apply(console,arguments)};function A(a,b){this.x=a||0;this.y=b||0}
A.prototype={constructor:A,set:function(a,b){this.x=a;this.y=b;return this},va:function(a){this.x=a;return this},wa:function(a){this.y=a;return this},b:function(a){this.x=a.x;this.y=a.y;return this},add:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a){this.x-=a.x;this.y-=a.y;return this},H:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},u:function(a){this.x*=a;this.y*=a;return this},X:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>
a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},M:function(a){return this.x*a.x+this.y*a.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.X(this.length())},
pa:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},clone:function(){return new A(this.x,this.y)}};function B(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}
B.prototype={constructor:B,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},va:function(a){this.x=a;return this},wa:function(a){this.y=a;return this},b:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},H:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},u:function(a){this.x*=a;this.y*=a;this.z*=a;return this},V:function(){var a;
return function(b){void 0===a&&(a=new C);ba(a,b.A,ca(a,b.G));b=this.x;var c=this.y,d=this.z,f=a.elements,e=1/(f[3]*b+f[7]*c+f[11]*d+f[15]);this.x=(f[0]*b+f[4]*c+f[8]*d+f[12])*e;this.y=(f[1]*b+f[5]*c+f[9]*d+f[13])*e;this.z=(f[2]*b+f[6]*c+f[10]*d+f[14])*e;return this}}(),X:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=
a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},M:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+
this.z*this.z)},normalize:function(){return this.X(this.length())},pa:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},clone:function(){return new B(this.x,this.y,this.z)}};function D(a,b,c,d){this.f=a||0;this.g=b||0;this.h=c||0;this.c=void 0!==d?d:1}
D.prototype={constructor:D,f:0,g:0,h:0,c:0,get x(){return this.f},set x(a){this.f=a},get y(){return this.g},set y(a){this.g=a},get z(){return this.h},set z(a){this.h=a},get ha(){return this.c},set ha(a){this.c=a},set:function(a,b,c,d){this.f=a;this.g=b;this.h=c;this.c=d;return this},b:function(a){this.f=a.x;this.g=a.y;this.h=a.z;this.c=a.ha;return this},Va:function(){var a,b;return function(c,d){void 0===a&&(a=new B);b=c.M(d)+1;if(1E-6>b)b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,
c.y);else{var f=a,e=c.x,g=c.y,h=c.z,l=d.x,p=d.y,k=d.z;f.x=g*k-h*p;f.y=h*l-e*k;f.z=e*p-g*l}this.f=a.x;this.g=a.y;this.h=a.z;this.c=b;this.normalize();return this}}(),M:function(a){return this.f*a.f+this.g*a.g+this.h*a.h+this.c*a.c},length:function(){return Math.sqrt(this.f*this.f+this.g*this.g+this.h*this.h+this.c*this.c)},normalize:function(){var a=this.length();0===a?(this.h=this.g=this.f=0,this.c=1):(a=1/a,this.f=this.f*a,this.g=this.g*a,this.h=this.h*a,this.c=this.c*a);return this},clone:function(){return new D(this.f,
this.g,this.h,this.c)}};D.Ya=function(){return(void 0).b(void 0).Ya()};function C(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}
C.prototype={constructor:C,b:function(a){this.elements.set(a.elements);return this},u:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=
a;return this}};function da(a,b,c,d,f,e,g){a=a.elements;a[0]=2*e/(c-b);a[4]=0;a[8]=(c+b)/(c-b);a[12]=0;a[1]=0;a[5]=2*e/(f-d);a[9]=(f+d)/(f-d);a[13]=0;a[2]=0;a[6]=0;a[10]=-(g+e)/(g-e);a[14]=-2*g*e/(g-e);a[3]=0;a[7]=0;a[11]=-1;a[15]=0}
function ca(a,b){var c=a.elements,d=b.elements,f=d[0],e=d[4],g=d[8],h=d[12],l=d[1],p=d[5],k=d[9],m=d[13],n=d[2],q=d[6],u=d[10],r=d[14],v=d[3],w=d[7],t=d[11],d=d[15];c[0]=k*r*w-m*u*w+m*q*t-p*r*t-k*q*d+p*u*d;c[4]=h*u*w-g*r*w-h*q*t+e*r*t+g*q*d-e*u*d;c[8]=g*m*w-h*k*w+h*p*t-e*m*t-g*p*d+e*k*d;c[12]=h*k*q-g*m*q-h*p*u+e*m*u+g*p*r-e*k*r;c[1]=m*u*v-k*r*v-m*n*t+l*r*t+k*n*d-l*u*d;c[5]=g*r*v-h*u*v+h*n*t-f*r*t-g*n*d+f*u*d;c[9]=h*k*v-g*m*v-h*l*t+f*m*t+g*l*d-f*k*d;c[13]=g*m*n-h*k*n+h*l*u-f*m*u-g*l*r+f*k*r;c[2]=p*
r*v-m*q*v+m*n*w-l*r*w-p*n*d+l*q*d;c[6]=h*q*v-e*r*v-h*n*w+f*r*w+e*n*d-f*q*d;c[10]=e*m*v-h*p*v+h*l*w-f*m*w-e*l*d+f*p*d;c[14]=h*p*n-e*m*n-h*l*q+f*m*q+e*l*r-f*p*r;c[3]=k*q*v-p*u*v-k*n*w+l*u*w+p*n*t-l*q*t;c[7]=e*u*v-g*q*v+g*n*w-f*u*w-e*n*t+f*q*t;c[11]=g*p*v-e*k*v-g*l*w+f*k*w+e*l*t-f*p*t;c[15]=e*k*n-g*p*n+g*l*q-f*k*q-e*l*u+f*p*u;c=f*c[0]+l*c[4]+n*c[8]+v*c[12];if(0==c)return z("Can't invert matrix, determinant is 0"),a.eb(),a;a.u(1/c);return a}
function ba(a,b,c){var d=b.elements;c=c.elements;a=a.elements;b=d[0];var f=d[4],e=d[8],g=d[12],h=d[1],l=d[5],p=d[9],k=d[13],m=d[2],n=d[6],q=d[10],u=d[14],r=d[3],v=d[7],w=d[11],d=d[15],t=c[0],x=c[4],J=c[8],E=c[12],F=c[1],N=c[5],O=c[9],P=c[13],Q=c[2],R=c[6],S=c[10],T=c[14],U=c[3],V=c[7],W=c[11];c=c[15];a[0]=b*t+f*F+e*Q+g*U;a[4]=b*x+f*N+e*R+g*V;a[8]=b*J+f*O+e*S+g*W;a[12]=b*E+f*P+e*T+g*c;a[1]=h*t+l*F+p*Q+k*U;a[5]=h*x+l*N+p*R+k*V;a[9]=h*J+l*O+p*S+k*W;a[13]=h*E+l*P+p*T+k*c;a[2]=m*t+n*F+q*Q+u*U;a[6]=m*x+
n*N+q*R+u*V;a[10]=m*J+n*O+q*S+u*W;a[14]=m*E+n*P+q*T+u*c;a[3]=r*t+v*F+w*Q+d*U;a[7]=r*x+v*N+w*R+d*V;a[11]=r*J+v*O+w*S+d*W;a[15]=r*E+v*P+w*T+d*c};function G(){}
G.prototype={constructor:G,apply:function(a){a.addEventListener=G.prototype.addEventListener;a.hasEventListener=G.prototype.La;a.removeEventListener=G.prototype.Aa;a.dispatchEvent=G.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this.o&&(this.o={});var c=this.o;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},La:function(a,b){if(void 0===this.o)return!1;var c=this.o;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},Aa:function(a,b){if(void 0!==this.o){var c=this.o[a];
if(void 0!==c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}}},dispatchEvent:function(a){if(void 0!==this.o){var b=this.o[a.type];if(void 0!==b){a.target=this;for(var c=[],d=b.length,f=0;f<d;f++)c[f]=b[f];for(f=0;f<d;f++)c[f].call(this,a)}}}};var ea=function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var f=0;36>f;f++)8==f||13==f||18==f||23==f?b[f]="-":14==f?b[f]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[f]=a[19==f?d&3|8:d]);return b.join("")}}(),H=function(){var a=Math.PI/180;return function(b){return b*a}}(),fa=function(){var a=180/Math.PI;return function(b){return b*a}}();function I(){Object.defineProperty(this,"id",{value:ga++});ea();this.name="";this.type="Object3D";this.parent=void 0;this.children=[];this.$a=I.Ca.clone();Object.defineProperties(this,{position:{enumerable:!0,value:new B},ea:{enumerable:!0,value:new D},scale:{enumerable:!0,value:new B(1,1,1)}});this.w=new C;this.A=new C;this.ba=!0;this.ca=!1;this.visible=!0}I.Ca=new B(0,1,0);
I.prototype={constructor:I,add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return aa("Object3D.add: object can't be added as a child of itself.",a),this;a instanceof I?(void 0!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):aa("Object3D.add: object not an instance of Object3D.",a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);
b=this.children.indexOf(a);-1!==b&&(a.parent=void 0,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))}};
function K(a,b){if(!0===a.ba){var c=a.w,d=a.position,f=a.scale,e=a.ea,g=c.elements,h=e.x,l=e.y,p=e.z,k=e.ha,m=h+h,n=l+l,q=p+p,e=h*m,u=h*n,h=h*q,r=l*n,l=l*q,p=p*q,m=k*m,n=k*n,k=k*q;g[0]=1-(r+p);g[4]=u-k;g[8]=h+n;g[1]=u+k;g[5]=1-(e+p);g[9]=l-m;g[2]=h-n;g[6]=l+m;g[10]=1-(e+r);g[3]=0;g[7]=0;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;c.scale(f);c.setPosition(d);a.ca=!0}if(!0===a.ca||!0===b)void 0===a.parent?a.A.b(a.w):ba(a.A,a.parent.A,a.w),a.ca=!1,b=!0;c=0;for(d=a.children.length;c<d;c++)K(a.children[c],
b)}G.prototype.apply(I.prototype);var ga=0;function L(){I.call(this);this.type="Camera";this.Ma=new C;this.G=new C}L.prototype=Object.create(I.prototype);L.prototype.constructor=L;function M(a,b,c,d){L.call(this);this.type="PerspectiveCamera";this.zoom=1;this.j=void 0!==a?a:50;this.J=void 0!==b?b:1;this.B=void 0!==c?c:.1;this.N=void 0!==d?d:2E3;ha(this)}M.prototype=Object.create(L.prototype);M.prototype.constructor=M;
function ha(a){var b=fa(2*Math.atan(Math.tan(.5*H(a.j))/a.zoom));if(a.aa){var c=a.aa/a.qa,d=Math.tan(H(.5*b))*a.B,b=-d,f=c*b,c=Math.abs(c*d-f),b=Math.abs(d-b);da(a.G,f+a.x*c/a.aa,f+(a.x+a.width)*c/a.aa,d-(a.y+a.height)*b/a.qa,d-a.y*b/a.qa,a.B,a.N)}else{d=a.G;f=a.J;c=a.B;a=a.N;var b=c*Math.tan(H(.5*b)),e=-b;da(d,e*f,b*f,e,b,c,a)}}M.prototype.clone=function(){var a=new M;L.prototype.clone.call(this,a);a.zoom=this.zoom;a.j=this.j;a.J=this.J;a.B=this.B;a.N=this.N;a.G.b(this.G);return a};function X(){I.call(this);this.type="Scene";this.da=this.$=null;this.na=!0}X.prototype=Object.create(I.prototype);X.prototype.constructor=X;X.prototype.clone=function(a){void 0===a&&(a=new X);I.prototype.clone.call(this,a);null!==this.$&&(a.$=this.$.clone());null!==this.da&&(a.da=this.da.clone());a.na=this.na;a.ba=this.ba;return a};function Y(a){I.call(this);this.element=a;this.element.style.position="absolute";this.addEventListener("removed",function(){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})}Y.prototype=Object.create(I.prototype);
function ia(a){function b(a,c){if(a instanceof Y){var e=a.element,d=k[a.id];if(void 0===d||""!==d)e.style.WebkitTransform="",e.style.MozTransform="",e.style.Oa="",e.style.transform="",k[a.id]="";e.parentNode!==q&&q.appendChild(e)}e=0;for(d=a.children.length;e<d;e++)b(a.children[e],c)}var c=1,d,f,e,g,h=!0,l=0,p="",k={},m=1,n=document.createElement("div");a&&(n=a);n.style.overflow="hidden";this.a=n;var q=document.createElement("div");n.appendChild(q);this.Wa=function(a){h=a};this.Ta=function(a){c=1;
"CENTER"===a&&(c=0)};this.ua=function(a,b){d=a;f=b;e=d/2;g=f/2;n.style.width=a+"px";n.style.height=b+"px";q.style.width=a+"px";q.style.height=b+"px"};this.m=function(a,d){var k=.5/Math.tan(H(.5*d.j))*f;l!==k&&(l=k);K(a);void 0===d.parent&&K(d);ca(d.Ma,d.A);var k=-d.position.x,m=d.position.y;1===c&&(k+=e,m+=g);k=" scale("+this.Ja(d,n)+") translate("+k+"px,"+m+"px)"+(h?" translate3d(0,0,0)":"");p!==k&&(q.style.WebkitTransform=k,q.style.MozTransform=k,q.style.Oa=k,p=q.style.transform=k);b(a,d)};this.Ja=
function(a,b){var c=m;if(0!==b.clientHeight||"undefined"===typeof m)m=c=.5/Math.tan(H(.5*a.j))*b.clientHeight;return c/a.position.z}};function ja(a,b){function c(a){if(!1!==e.enabled){a.preventDefault();if(x===t.ia){if(!0===e.D)return;n.set(a.clientX,a.clientY);q.H(n,m);0<q.y?e.Y():e.Z();m.b(n)}else if(x===t.ja){if(!0===e.C)return;h.set(a.clientX,a.clientY);l.H(h,g);e.pan(l.x,l.y);g.b(h)}e.update()}}function d(a){if(!1!==e.enabled){if(2==a.button&&"undefined"!==e.ga&&130>new Date-e.ga.time){a=e.ga.Pa;var b=new CustomEvent("mz_contextmenu");b.clientX=a.clientX;b.clientY=a.clientY;b.target=a.target;a.target.dispatchEvent(b)}document.removeEventListener("mousemove",
c,!1);document.removeEventListener("mouseup",d,!1);e.dispatchEvent(F);x=t.NONE}}function f(a){!0===e.W&&(e.clientX=a.clientX,e.clientY=a.clientY,e.fa=!0);if(!1!==e.enabled&&!0!==e.D){var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?e.Z():e.Y();e.update();e.dispatchEvent(E);e.dispatchEvent(F)}}this.object=a;this.a=void 0!==b?b:document;this.enabled=!0;this.target=new B;this.D=!1;this.I=1;this.W=!0;this.R=.05;this.L=this.P=1;this.i=null;this.F=2;this.C=!1;this.O=7;this.Na=
!1;this.keys={ya:37,Ba:38,za:39,xa:40};var e=this,g=new A,h=new A,l=new A,p=new B,k=new B,m=new A,n=new A,q=new A,u=1,r=new B,v=new B,w=new D,t={NONE:-1,ia:1,ja:2,ka:4,la:5},x=t.NONE;this.Za=this.target.clone();this.Qa=this.object.position.clone();(new D).Va(a.$a,new B(0,1,0));var J={type:"change"},E={type:"start"},F={type:"end"};this.ta=function(a){u=.5/Math.tan(H(.5*this.object.j))*this.a.clientHeight/a/this.object.position.z};this.Xa=function(a){this.P=a};this.sa=function(a){this.R=null===this.i?
a:this.Fa(this.i)};this.Fa=function(a){return Math.min(this.a.clientWidth/(a.right-a.left),this.a.clientHeight/(a.bottom-a.top))};this.ab=function(a){if(null==a||"object"!=typeof a)return null;for(var b=["top","left","bottom","right"],c=[-1,-1,1,1],e=!1,d={},f=0;f<b.length;f++)"[object Number]"===toString.call(a[b[f]])&&(e=!0),d[b[f]]="[object Number]"===toString.call(a[b[f]])?a[b[f]]:Infinity*c[f];return e?d:(z("Invalid bounds object specified."),null)};this.Ua=function(a){this.i=a=this.ab(a);null!==
a&&this.sa(1)};this.T=function(a){var b=this.object.w.elements;p.set(b[0],b[1],b[2]);p.u(-a);r.add(p)};this.U=function(a){var b=this.object.w.elements;p.set(b[4],b[5],b[6]);p.u(a);r.add(p)};this.pan=function(a,b){var c=e.a===document?e.a.body:e.a;if(void 0!==e.object.j){var d=e.object.position.clone().sub(e.target).length(),d=d*Math.tan(e.object.j/2*Math.PI/180);e.T(2*a*d/c.clientHeight);e.U(2*b*d/c.clientHeight)}else void 0!==e.object.top?(e.T(a*(e.object.right-e.object.left)/c.clientWidth),e.U(b*
(e.object.top-e.object.bottom)/c.clientHeight)):console.warn("WARNING: ZoomControls.js encountered an unknown camera type - pan disabled.")};this.Y=function(){var a;void 0===a&&(a=Math.pow(.95,e.I));u/=a};this.Z=function(){var a;void 0===a&&(a=Math.pow(.95,e.I));u*=a};this.V=function(a){var b=new B;b.set(e.clientX/e.a.clientWidth*2-1,2*-(e.clientY/e.a.clientHeight)+1,.5);b.V(a);var b=b.sub(a.position).normalize(),c=-a.position.z/b.z;return a.position.clone().add(b.u(c))};this.update=function(a,b){var c=
!1,d;e.fa&&(d=e.V(this.object).clone());var f=this.object.position;k.b(f).sub(this.target);var g=k.length()*u,h=.5/Math.tan(H(.5*this.object.j))*this.a.clientHeight;k.z=Math.max(h/this.P,Math.min(h/this.R,g));e.L=h/k.z;this.target.add(r);f.b(this.target).add(k);u=1;r.set(0,0,0);!0===e.fa&&!0!==a&&(c=!0,e.fa=!1,K(this.object),d=e.V(this.object).sub(d),e.T(d.x),e.U(-d.y));if(null!==e.i&&!0!==b){var n=h=g=d=0,l=this.a.clientHeight/2,m=this.a.clientWidth/2,p=m/l,q=k.z*Math.tan(H(.5*this.object.j)),p=
q*p;q-l+f.y+r.y>-e.i.top&&(g+=-q-e.i.top+l-f.y-r.y);-p+m+f.x+r.x<e.i.left&&(d+=p+e.i.left-m-f.x-r.x);+q-f.y-r.y+l>e.i.bottom&&(n+=+q-e.i.bottom+l-f.y-r.y);p+f.x+r.x+m>e.i.right&&(h+=-p+e.i.right-m-f.x-r.x);.001>Math.abs(d)&&(d=0);.001>Math.abs(h)&&(h=0);.001>Math.abs(n)&&(n=0);.001>Math.abs(g)&&(g=0);if(0!==d||0!==g||0!==h||0!==n)c=!0,l=g+n,m=d+h,0!==g&&0!==n&&(l/=2,r.wa(0)),0!==d&&0!==h&&(m/=2,r.va(0)),r.set(m+r.x,l+r.y,0)}c&&(this.target.add(r),f.b(this.target).add(k),r.set(0,0,0),u=1);if(1E-6<
v.pa(this.object.position)||1E-6<8*(1-w.M(this.object.ea)))this.dispatchEvent(J),v.b(this.object.position),w.b(this.object.ea)};this.reset=function(){x=t.NONE;this.target.b(this.Za);this.object.position.b(this.Qa);this.update()};this.a.addEventListener("mousedown",function(a){if(!1!==e.enabled){if(1===a.button){if(!0===e.D)return;a.preventDefault();x=t.ia;m.set(a.clientX,a.clientY)}else if(a.button===e.F){if(!0===e.C)return;a.preventDefault();x=t.ja;g.set(a.clientX,a.clientY);e.ga={time:new Date,
Pa:a}}document.addEventListener("mousemove",c,!1);document.addEventListener("mouseup",d,!1);e.dispatchEvent(E)}},!1);this.a.addEventListener("mousewheel",f,!1);this.a.addEventListener("DOMMouseScroll",f,!1);this.a.addEventListener("touchstart",function(a){if(!1!==e.enabled){switch(a.touches.length){case 1:return;case 2:if(!0===e.D)return;x=t.ka;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;m.set(0,Math.sqrt(b*b+a*a));break;case 3:if(!0===e.C)return;x=t.la;g.set(a.touches[0].pageX,
a.touches[0].pageY);break;default:x=t.NONE}e.dispatchEvent(E)}},!1);this.a.addEventListener("touchend",function(){!1!==e.enabled&&(e.dispatchEvent(F),x=t.NONE)},!1);this.a.addEventListener("touchmove",function(a){if(!1!==e.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:break;case 2:if(!0===e.D)break;if(x!==t.ka)break;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;n.set(0,Math.sqrt(b*b+a*a));q.H(n,m);0<q.y?e.Z():e.Y();m.b(n);e.update();
break;case 3:if(!0===e.C)break;if(x!==t.la)break;h.set(a.touches[0].pageX,a.touches[0].pageY);l.H(h,g);e.pan(l.x,l.y);g.b(h);e.update();break;default:x=t.NONE}},!1);window.addEventListener("keydown",function(a){if(!1!==e.enabled&&!0!==e.Na&&!0!==e.C)switch(a.keyCode){case e.keys.Ba:e.pan(0,e.O);e.update();break;case e.keys.xa:e.pan(0,-e.O);e.update();break;case e.keys.ya:e.pan(e.O,0);e.update();break;case e.keys.za:e.pan(-e.O,0),e.update()}},!1);this.update()}ja.prototype=Object.create(G.prototype);function Z(a){var b=a||{};a={};a.Ga=b.containerId||"makeItZoom";a.P=b.maxZoomScale||1;a.R=b.minZoomScale||.1;a.I=b.zoomSpeed||2;a.W=!1!==b.zoomTowardMouse;a.F="undefined"!=typeof b.panButton?b.F:2;a.oa="boolean"===typeof b.disableNativeContextMenu?b.oa:!0;a.Ka=!1!==b.hardwareAccelerated;a.fullScreen=!0===b.fullScreen;a.i=b.bounds||null;a.bb=!0!==b.zeroAtCenter;this.options=a;this.l=document.getElementById(a.Ga);b=this.Ea.call(this,this.l);this.width=this.l.offsetWidth;this.height=this.l.offsetHeight;
this.K=new M(70,this.width/this.height,1,1E6);this.v=new X;this.Sa.call(this,b);this.s=new ia(this.l);this.s.Ta(this.options.bb?"CENTER":"TOP_LEFT");this.s.ua(this.width,this.height);this.s.Wa(a.Ka);this.s.a.style.position="absolute";this.m=this.m.bind(this);ka(this);this.controls.ta(1);la(this,a.fullScreen);this.controls.update()}
function la(a,b){function c(){d.l.style.width=window.innerWidth;d.l.style.height=window.innerHeight;d.width=d.l.offsetWidth;d.height=d.l.offsetHeight;d.K.J=window.innerWidth/window.innerHeight;ha(d.K);d.s.ua(window.innerWidth,window.innerHeight);d.m()}var d=a;!0===b?(c(),window.addEventListener("resize",c,!1)):window.removeEventListener("resize",c,!1)}y=Z.prototype;y.Ha=function(){return this.l};
y.Ea=function(a){var b=this,c=[];ma(this,a,function(a){var d=b.ra(a),f=getComputedStyle(a).getPropertyValue("position");if("relative"===f||"static"===f)a.S=d;c.push(a)});for(var d=0;d<c.length;d++){var f=c[d];a.removeChild(f);f.S&&(f.style.position="absolute",f.style.top=f.S.top+"px",f.style.left=f.S.left+"px")}return c};y.Sa=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.ma.call(this,c,c.S)}};
y.ma=function(a,b){var c=new Y(a);b&&(c.element.style.left=b.left+"px",c.element.style.top=b.top+"px");c.position.z=0;this.v.add(c)};function ma(a,b,c){b=b.children;for(var d=0;d<b.length;d++)c.call(a,b[d])}
function ka(a){a.controls=new ja(a.K,a.s.a);a.controls.I=a.options.I;a.controls.sa(a.options.R);a.controls.Xa(a.options.P);a.controls.Ua(a.options.i);a.controls.W=a.options.W;a.controls.F=a.options.F;!0===a.options.oa&&a.controls.a.addEventListener("contextmenu",function(a){a.preventDefault()},!1);a.controls.addEventListener("change",a.m);a.m()}
y.m=function(){this.s.m(this.v,this.K);var a={type:"mz_render"};a.mz_scale=this.controls.L;a.mz_center_x=this.controls.object.position.x;a.mz_center_y=this.controls.object.position.y;this.dispatchEvent(a)};y.Da=function(a,b){this.ma(a,{left:b.left,top:-b.top});this.m()};
y.Ra=function(a){for(var b=null,c=0;c<this.v.children.length;c++)this.v.children[c].element===a&&(b=this.v.children[c]);null!==b?this.v.remove(b):console.warn("The specified element could not be removed from the makeItZoom workspace, because it couldn't be found.");this.m()};y.ra=function(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};y.Ia=function(){return this.controls.L};
y.cb=function(a,b,c){var d=this.controls.object.position.x,f=this.controls.object.position.y,e=this.controls.L;"number"!==typeof a&&(a=d);"number"!==typeof b&&(b=f);"number"!==typeof c&&(c=e);this.controls.T(d-a);this.controls.U(b-f);this.controls.ta(c);this.controls.update(!0)};G.prototype.apply(Z.prototype);window.makeItZoom=Z;Z.prototype.addZoomable=Z.prototype.Da;Z.prototype.removeZoomable=Z.prototype.Ra;Z.prototype.zoomTo=Z.prototype.cb;Z.prototype.getCurrentScale=Z.prototype.Ia;
Z.prototype.getOffset=Z.prototype.ra;Z.prototype.getContainer=Z.prototype.Ha;
