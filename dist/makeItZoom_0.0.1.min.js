var y;(function(){function a(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var d=document.createEvent("CustomEvent");d.initCustomEvent(a,c.bubbles,c.cancelable,c.detail);return d}a.prototype=window.Event.prototype;window.CustomEvent=a})();function aa(){console.warn.apply(console,arguments)}function z(){console.error.apply(console,arguments)};function A(a,b){this.x=a||0;this.y=b||0}
A.prototype={constructor:A,set:function(a,b){this.x=a;this.y=b;return this},g:function(a){this.x=a.x;this.y=a.y;return this},add:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a){this.x-=a.x;this.y-=a.y;return this},G:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},s:function(a){this.x*=a;this.y*=a;return this},V:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<
a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},L:function(a){return this.x*a.x+this.y*a.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.V(this.length())},na:function(a){var b=this.x-a.x;a=this.y-a.y;
return b*b+a*a},clone:function(){return new A(this.x,this.y)}};function B(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}
B.prototype={constructor:B,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},g:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},G:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},s:function(a){this.x*=a;this.y*=a;this.z*=a;return this},T:function(){var a;return function(b){void 0===a&&(a=new C);ba(a,b.w,ca(a,b.F));b=this.x;var c=
this.y,d=this.z,f=a.elements,e=1/(f[3]*b+f[7]*c+f[11]*d+f[15]);this.x=(f[0]*b+f[4]*c+f[8]*d+f[12])*e;this.y=(f[1]*b+f[5]*c+f[9]*d+f[13])*e;this.z=(f[2]*b+f[6]*c+f[10]*d+f[14])*e;return this}}(),V:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},floor:function(){this.x=
Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},L:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.V(this.length())},na:function(a){var b=
this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},clone:function(){return new B(this.x,this.y,this.z)}};function D(a,b,c,d){this.b=a||0;this.c=b||0;this.f=c||0;this.h=void 0!==d?d:1}
D.prototype={constructor:D,b:0,c:0,f:0,h:0,get x(){return this.b},set x(a){this.b=a},get y(){return this.c},set y(a){this.c=a},get z(){return this.f},set z(a){this.f=a},get fa(){return this.h},set fa(a){this.h=a},set:function(a,b,c,d){this.b=a;this.c=b;this.f=c;this.h=d;return this},g:function(a){this.b=a.x;this.c=a.y;this.f=a.z;this.h=a.fa;return this},Na:function(){var a,b;return function(c,d){void 0===a&&(a=new B);b=c.L(d)+1;if(1E-6>b)b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,
c.y);else{var f=a,e=c.x,g=c.y,k=c.z,h=d.x,m=d.y,n=d.z;f.x=g*n-k*m;f.y=k*h-e*n;f.z=e*m-g*h}this.b=a.x;this.c=a.y;this.f=a.z;this.h=b;this.normalize();return this}}(),inverse:function(){this.b*=-1;this.c*=-1;this.f*=-1;this.normalize();return this},L:function(a){return this.b*a.b+this.c*a.c+this.f*a.f+this.h*a.h},length:function(){return Math.sqrt(this.b*this.b+this.c*this.c+this.f*this.f+this.h*this.h)},normalize:function(){var a=this.length();0===a?(this.f=this.c=this.b=0,this.h=1):(a=1/a,this.b=
this.b*a,this.c=this.c*a,this.f=this.f*a,this.h=this.h*a);return this},clone:function(){return new D(this.b,this.c,this.f,this.h)}};D.Pa=function(){return(void 0).g(void 0).Pa()};function C(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}
C.prototype={constructor:C,g:function(a){this.elements.set(a.elements);return this},s:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=
a;return this}};function da(a,b,c,d,f,e,g){a=a.elements;a[0]=2*e/(c-b);a[4]=0;a[8]=(c+b)/(c-b);a[12]=0;a[1]=0;a[5]=2*e/(f-d);a[9]=(f+d)/(f-d);a[13]=0;a[2]=0;a[6]=0;a[10]=-(g+e)/(g-e);a[14]=-2*g*e/(g-e);a[3]=0;a[7]=0;a[11]=-1;a[15]=0}
function ca(a,b){var c=a.elements,d=b.elements,f=d[0],e=d[4],g=d[8],k=d[12],h=d[1],m=d[5],n=d[9],l=d[13],p=d[2],t=d[6],r=d[10],u=d[14],v=d[3],w=d[7],q=d[11],d=d[15];c[0]=n*u*w-l*r*w+l*t*q-m*u*q-n*t*d+m*r*d;c[4]=k*r*w-g*u*w-k*t*q+e*u*q+g*t*d-e*r*d;c[8]=g*l*w-k*n*w+k*m*q-e*l*q-g*m*d+e*n*d;c[12]=k*n*t-g*l*t-k*m*r+e*l*r+g*m*u-e*n*u;c[1]=l*r*v-n*u*v-l*p*q+h*u*q+n*p*d-h*r*d;c[5]=g*u*v-k*r*v+k*p*q-f*u*q-g*p*d+f*r*d;c[9]=k*n*v-g*l*v-k*h*q+f*l*q+g*h*d-f*n*d;c[13]=g*l*p-k*n*p+k*h*r-f*l*r-g*h*u+f*n*u;c[2]=m*
u*v-l*t*v+l*p*w-h*u*w-m*p*d+h*t*d;c[6]=k*t*v-e*u*v-k*p*w+f*u*w+e*p*d-f*t*d;c[10]=e*l*v-k*m*v+k*h*w-f*l*w-e*h*d+f*m*d;c[14]=k*m*p-e*l*p-k*h*t+f*l*t+e*h*u-f*m*u;c[3]=n*t*v-m*r*v-n*p*w+h*r*w+m*p*q-h*t*q;c[7]=e*r*v-g*t*v+g*p*w-f*r*w-e*p*q+f*t*q;c[11]=g*m*v-e*n*v-g*h*w+f*n*w+e*h*q-f*m*q;c[15]=e*n*p-g*m*p+g*h*t-f*n*t-e*h*r+f*m*r;c=f*c[0]+h*c[4]+p*c[8]+v*c[12];if(0==c)return aa("Can't invert matrix, determinant is 0"),a.Ta(),a;a.s(1/c);return a}
function ba(a,b,c){var d=b.elements;c=c.elements;a=a.elements;b=d[0];var f=d[4],e=d[8],g=d[12],k=d[1],h=d[5],m=d[9],n=d[13],l=d[2],p=d[6],t=d[10],r=d[14],u=d[3],v=d[7],w=d[11],d=d[15],q=c[0],x=c[4],J=c[8],E=c[12],F=c[1],N=c[5],O=c[9],P=c[13],Q=c[2],R=c[6],S=c[10],T=c[14],U=c[3],V=c[7],W=c[11];c=c[15];a[0]=b*q+f*F+e*Q+g*U;a[4]=b*x+f*N+e*R+g*V;a[8]=b*J+f*O+e*S+g*W;a[12]=b*E+f*P+e*T+g*c;a[1]=k*q+h*F+m*Q+n*U;a[5]=k*x+h*N+m*R+n*V;a[9]=k*J+h*O+m*S+n*W;a[13]=k*E+h*P+m*T+n*c;a[2]=l*q+p*F+t*Q+r*U;a[6]=l*x+
p*N+t*R+r*V;a[10]=l*J+p*O+t*S+r*W;a[14]=l*E+p*P+t*T+r*c;a[3]=u*q+v*F+w*Q+d*U;a[7]=u*x+v*N+w*R+d*V;a[11]=u*J+v*O+w*S+d*W;a[15]=u*E+v*P+w*T+d*c};function G(){}
G.prototype={constructor:G,apply:function(a){a.addEventListener=G.prototype.addEventListener;a.hasEventListener=G.prototype.Ea;a.removeEventListener=G.prototype.va;a.dispatchEvent=G.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this.m&&(this.m={});var c=this.m;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},Ea:function(a,b){if(void 0===this.m)return!1;var c=this.m;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},va:function(a,b){if(void 0!==this.m){var c=this.m[a];
if(void 0!==c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}}},dispatchEvent:function(a){if(void 0!==this.m){var b=this.m[a.type];if(void 0!==b){a.target=this;for(var c=[],d=b.length,f=0;f<d;f++)c[f]=b[f];for(f=0;f<d;f++)c[f].call(this,a)}}}};var ea=function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var f=0;36>f;f++)8==f||13==f||18==f||23==f?b[f]="-":14==f?b[f]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[f]=a[19==f?d&3|8:d]);return b.join("")}}(),H=function(){var a=Math.PI/180;return function(b){return b*a}}(),fa=function(){var a=180/Math.PI;return function(b){return b*a}}();function I(){Object.defineProperty(this,"id",{value:ga++});ea();this.name="";this.type="Object3D";this.parent=void 0;this.children=[];this.Ra=I.xa.clone();Object.defineProperties(this,{position:{enumerable:!0,value:new B},ca:{enumerable:!0,value:new D},scale:{enumerable:!0,value:new B(1,1,1)}});this.v=new C;this.w=new C;this.$=!0;this.aa=!1;this.visible=!0}I.xa=new B(0,1,0);
I.prototype={constructor:I,add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return z("Object3D.add: object can't be added as a child of itself.",a),this;a instanceof I?(void 0!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):z("Object3D.add: object not an instance of Object3D.",a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);
b=this.children.indexOf(a);-1!==b&&(a.parent=void 0,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))}};
function K(a,b){if(!0===a.$){var c=a.v,d=a.position,f=a.scale,e=a.ca,g=c.elements,k=e.x,h=e.y,m=e.z,n=e.fa,l=k+k,p=h+h,t=m+m,e=k*l,r=k*p,k=k*t,u=h*p,h=h*t,m=m*t,l=n*l,p=n*p,n=n*t;g[0]=1-(u+m);g[4]=r-n;g[8]=k+p;g[1]=r+n;g[5]=1-(e+m);g[9]=h-l;g[2]=k-p;g[6]=h+l;g[10]=1-(e+u);g[3]=0;g[7]=0;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;c.scale(f);c.setPosition(d);a.aa=!0}if(!0===a.aa||!0===b)void 0===a.parent?a.w.g(a.v):ba(a.w,a.parent.w,a.v),a.aa=!1,b=!0;c=0;for(d=a.children.length;c<d;c++)K(a.children[c],
b)}G.prototype.apply(I.prototype);var ga=0;function L(){I.call(this);this.type="Camera";this.Ga=new C;this.F=new C}L.prototype=Object.create(I.prototype);L.prototype.constructor=L;function M(a,b,c,d){L.call(this);this.type="PerspectiveCamera";this.zoom=1;this.l=void 0!==a?a:50;this.I=void 0!==b?b:1;this.A=void 0!==c?c:.1;this.M=void 0!==d?d:2E3;ha(this)}M.prototype=Object.create(L.prototype);M.prototype.constructor=M;
function ha(a){var b=fa(2*Math.atan(Math.tan(.5*H(a.l))/a.zoom));if(a.Z){var c=a.Z/a.oa,d=Math.tan(H(.5*b))*a.A,b=-d,f=c*b,c=Math.abs(c*d-f),b=Math.abs(d-b);da(a.F,f+a.x*c/a.Z,f+(a.x+a.width)*c/a.Z,d-(a.y+a.height)*b/a.oa,d-a.y*b/a.oa,a.A,a.M)}else{d=a.F;f=a.I;c=a.A;a=a.M;var b=c*Math.tan(H(.5*b)),e=-b;da(d,e*f,b*f,e,b,c,a)}}M.prototype.clone=function(){var a=new M;L.prototype.clone.call(this,a);a.zoom=this.zoom;a.l=this.l;a.I=this.I;a.A=this.A;a.M=this.M;a.F.g(this.F);return a};function X(){I.call(this);this.type="Scene";this.ba=this.Y=null;this.la=!0}X.prototype=Object.create(I.prototype);X.prototype.constructor=X;X.prototype.clone=function(a){void 0===a&&(a=new X);I.prototype.clone.call(this,a);null!==this.Y&&(a.Y=this.Y.clone());null!==this.ba&&(a.ba=this.ba.clone());a.la=this.la;a.$=this.$;return a};function Y(a){I.call(this);this.element=a;this.element.style.position="absolute";this.addEventListener("removed",function(){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})}Y.prototype=Object.create(I.prototype);
function ia(){function a(b,c){if(b instanceof Y){var d=b.element,f=e[b.id];if(void 0===f||""!==f)d.style.WebkitTransform="",d.style.MozTransform="",d.style.Ja="",d.style.transform="",e[b.id]="";d.parentNode!==h&&h.appendChild(d)}d=0;for(f=b.children.length;d<f;d++)a(b.children[d],c)}var b,c=!0,d=0,f="",e={},g=1,k=document.createElement("div");k.style.overflow="hidden";this.a=k;var h=document.createElement("div");k.appendChild(h);this.Oa=function(a){c=a};this.ra=function(a,c){b=c;k.style.width=a+"px";
k.style.height=c+"px";h.style.width=a+"px";h.style.height=c+"px"};this.j=function(e,g){var l=.5/Math.tan(H(.5*g.l))*b;d!==l&&(d=l);K(e);void 0===g.parent&&K(g);ca(g.Ga,g.w);l=" scale("+this.Ca(g,k)+") translate("+-g.position.x+"px,"+g.position.y+"px)"+(c?" translate3d(0,0,0)":"");f!==l&&(h.style.WebkitTransform=l,h.style.MozTransform=l,h.style.Ja=l,f=h.style.transform=l);a(e,g)};this.Ca=function(a,b){var c=g;if(0!==b.clientHeight||"undefined"===typeof g)g=c=.5/Math.tan(H(.5*a.l))*b.clientHeight;return c/
a.position.z}};function ja(a,b){function c(a){if(!1!==e.enabled){a.preventDefault();if(x===q.ga){if(!0===e.C)return;p.set(a.clientX,a.clientY);t.G(p,l);0<t.y?e.W():e.X();l.g(p)}else if(x===q.ha){if(!0===e.B)return;k.set(a.clientX,a.clientY);h.G(k,g);e.pan(h.x,h.y);g.g(k)}e.update()}}function d(a){if(!1!==e.enabled){if(2==a.button&&"undefined"!==e.ea&&130>new Date-e.ea.time){a=e.ea.Ka;var b=new CustomEvent("mz_contextmenu");b.clientX=a.clientX;b.clientY=a.clientY;b.target=a.target;a.target.dispatchEvent(b)}document.removeEventListener("mousemove",
c,!1);document.removeEventListener("mouseup",d,!1);e.dispatchEvent(F);x=q.NONE}}function f(a){!0===e.U&&(e.clientX=a.clientX,e.clientY=a.clientY,e.da=!0);if(!1!==e.enabled&&!0!==e.C){var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?e.X():e.W();e.update();e.dispatchEvent(E);e.dispatchEvent(F)}}this.object=a;this.a=void 0!==b?b:document;this.enabled=!0;this.target=new B;this.C=!1;this.H=1;this.U=!0;this.P=.05;this.K=this.O=1;this.D=2;this.B=!1;this.N=7;this.Ia=!1;this.keys=
{ta:37,wa:38,ua:39,sa:40};var e=this,g=new A,k=new A,h=new A,m=new B,n=new B,l=new A,p=new A,t=new A,r=1,u=new B,v=new B,w=new D,q={NONE:-1,ga:1,ha:2,ia:4,ja:5},x=q.NONE;this.Qa=this.target.clone();this.La=this.object.position.clone();(new D).Na(a.Ra,new B(0,1,0)).clone().inverse();var J={type:"change"},E={type:"start"},F={type:"end"};this.qa=function(a){r=.5/Math.tan(H(.5*this.object.l))*this.a.clientHeight/a/this.object.position.z};this.R=function(a){var b=this.object.v.elements;m.set(b[0],b[1],
b[2]);m.s(-a);u.add(m)};this.S=function(a){var b=this.object.v.elements;m.set(b[4],b[5],b[6]);m.s(a);u.add(m)};this.pan=function(a,b){var c=e.a===document?e.a.body:e.a;if(void 0!==e.object.l){var d=e.object.position.clone().sub(e.target).length(),d=d*Math.tan(e.object.l/2*Math.PI/180);e.R(2*a*d/c.clientHeight);e.S(2*b*d/c.clientHeight)}else void 0!==e.object.top?(e.R(a*(e.object.right-e.object.left)/c.clientWidth),e.S(b*(e.object.top-e.object.bottom)/c.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")};
this.W=function(){var a;void 0===a&&(a=Math.pow(.95,e.H));r/=a};this.X=function(){var a;void 0===a&&(a=Math.pow(.95,e.H));r*=a};this.T=function(a){var b=new B;b.set(e.clientX/e.a.clientWidth*2-1,2*-(e.clientY/e.a.clientHeight)+1,.5);b.T(a);var b=b.sub(a.position).normalize(),c=-a.position.z/b.z;return a.position.clone().add(b.s(c))};this.update=function(a){var b;e.da&&(b=e.T(this.object).clone());var c=this.object.position;n.g(c).sub(this.target);var d=n.length()*r,f=.5/Math.tan(H(.5*this.object.l))*
this.a.clientHeight;n.z=Math.max(f/this.O,Math.min(f/this.P,d));e.K=f/n.z;this.target.add(u);c.g(this.target).add(n);r=1;u.set(0,0,0);if(!0===e.da&&!0!==a)e.da=!1,K(this.object),a=e.T(this.object).sub(b),e.R(a.x),e.S(-a.y),e.update();else if(1E-6<v.na(this.object.position)||1E-6<8*(1-w.L(this.object.ca)))this.dispatchEvent(J),v.g(this.object.position),w.g(this.object.ca)};this.reset=function(){x=q.NONE;this.target.g(this.Qa);this.object.position.g(this.La);this.update()};this.a.addEventListener("mousedown",
function(a){if(!1!==e.enabled){if(1===a.button){if(!0===e.C)return;a.preventDefault();x=q.ga;l.set(a.clientX,a.clientY)}else if(a.button===e.D){if(!0===e.B)return;a.preventDefault();x=q.ha;g.set(a.clientX,a.clientY);e.ea={time:new Date,Ka:a}}document.addEventListener("mousemove",c,!1);document.addEventListener("mouseup",d,!1);e.dispatchEvent(E)}},!1);this.a.addEventListener("mousewheel",f,!1);this.a.addEventListener("DOMMouseScroll",f,!1);this.a.addEventListener("touchstart",function(a){if(!1!==e.enabled){switch(a.touches.length){case 1:return;
case 2:if(!0===e.C)return;x=q.ia;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;l.set(0,Math.sqrt(b*b+a*a));break;case 3:if(!0===e.B)return;x=q.ja;g.set(a.touches[0].pageX,a.touches[0].pageY);break;default:x=q.NONE}e.dispatchEvent(E)}},!1);this.a.addEventListener("touchend",function(){!1!==e.enabled&&(e.dispatchEvent(F),x=q.NONE)},!1);this.a.addEventListener("touchmove",function(a){if(!1!==e.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:break;
case 2:if(!0===e.C)break;if(x!==q.ia)break;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;p.set(0,Math.sqrt(b*b+a*a));t.G(p,l);0<t.y?e.X():e.W();l.g(p);e.update();break;case 3:if(!0===e.B)break;if(x!==q.ja)break;k.set(a.touches[0].pageX,a.touches[0].pageY);h.G(k,g);e.pan(h.x,h.y);g.g(k);e.update();break;default:x=q.NONE}},!1);window.addEventListener("keydown",function(a){if(!1!==e.enabled&&!0!==e.Ia&&!0!==e.B)switch(a.keyCode){case e.keys.wa:e.pan(0,e.N);e.update();
break;case e.keys.sa:e.pan(0,-e.N);e.update();break;case e.keys.ta:e.pan(e.N,0);e.update();break;case e.keys.ua:e.pan(-e.N,0),e.update()}},!1);this.update()}ja.prototype=Object.create(G.prototype);function Z(a){a=a||{};var b={};b.za=a.containerId||"makeItZoom";b.O=a.maxZoomScale||1;b.P=a.minZoomScale||.1;b.H=a.zoomSpeed||2;b.U=!1!==a.zoomTowardMouse;b.D="undefined"!=typeof a.panButton?a.D:2;b.ma="boolean"===typeof a.disableNativeContextMenu?a.ma:!0;b.Da=!1!==a.hardwareAccelerated;b.fullScreen=!0===a.fullScreen;this.options=b;this.i=document.getElementById(b.za);this.width=this.i.offsetWidth;this.height=this.i.offsetHeight;this.J=new M(70,this.width/this.height,1,1E6);this.u=new X;this.o=new ia;
this.o.ra(this.width,this.height);this.o.Oa(b.Da);this.i.parentNode.insertBefore(this.o.a,this.i);this.i.parentNode.insertBefore(this.i,this.o.a);this.o.a.className="makeitzoom_container";this.j=this.j.bind(this);ka(this);this.controls.qa(1);this.Fa.call(this,this.i);this.j();la(this,b.fullScreen)}
function la(a,b){function c(){d.i.style.width=window.innerWidth;d.i.style.height=window.innerHeight;d.width=d.i.offsetWidth;d.height=d.i.offsetHeight;d.J.I=window.innerWidth/window.innerHeight;ha(d.J);d.o.ra(window.innerWidth,window.innerHeight);d.j()}var d=a;!0===b?(c(),window.addEventListener("resize",c,!1)):window.removeEventListener("resize",c,!1)}y=Z.prototype;y.Aa=function(){return this.i};y.Fa=function(a){var b=this;ma(this,a,function(a){a.Ha=b.pa(a)});ma(this,a,function(a){b.ka.call(b,a,a.Ha)})};
function ma(a,b,c){b=b.children;for(var d=0;d<b.length;d++)c.call(a,b[d])}function ka(a){a.controls=new ja(a.J,a.o.a);a.controls.H=a.options.H;a.controls.P=a.options.P;a.controls.O=a.options.O;a.controls.U=a.options.U;a.controls.D=a.options.D;!0===a.options.ma&&a.controls.a.addEventListener("contextmenu",function(a){a.preventDefault()},!1);a.controls.addEventListener("change",a.j);a.j()}
y.j=function(){this.o.j(this.u,this.J);var a=new CustomEvent("mz_render");a.mz_scale=this.controls.K;a.mz_center_x=this.controls.object.position.x;a.mz_center_y=this.controls.object.position.y;this.dispatchEvent(a)};y.ka=function(a,b){var c=new Y(a);c.position.x=b.left;c.position.y=b.top;c.position.z=0;this.u.add(c)};y.ya=function(a,b){this.ka(a,b);this.j()};
y.Ma=function(a){for(var b=null,c=0;c<this.u.children.length;c++)this.u.children[c].element===a&&(b=this.u.children[c]);null!==b?this.u.remove(b):console.warn("The specified element could not be removed from the makeItZoom workspace, because it couldn't be found.");this.j()};y.pa=function(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};y.Ba=function(){return this.controls.K};
y.Sa=function(a,b,c){var d=this.controls.object.position.x,f=this.controls.object.position.y,e=this.controls.K;"number"!==typeof a&&(a=d);"number"!==typeof b&&(b=f);"number"!==typeof c&&(c=e);this.controls.R(d-a);this.controls.S(b-f);this.controls.qa(c);this.controls.update(!0)};G.prototype.apply(Z.prototype);window.makeItZoom=Z;Z.prototype.addZoomable=Z.prototype.ya;Z.prototype.removeZoomable=Z.prototype.Ma;Z.prototype.zoomTo=Z.prototype.Sa;Z.prototype.getCurrentScale=Z.prototype.Ba;
Z.prototype.getOffset=Z.prototype.pa;Z.prototype.getContainer=Z.prototype.Aa;
