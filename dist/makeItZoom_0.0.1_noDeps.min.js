var y;function aa(){console.warn.apply(console,arguments)}function z(){console.error.apply(console,arguments)};function A(a,b){this.x=a||0;this.y=b||0}
A.prototype={constructor:A,set:function(a,b){this.x=a;this.y=b;return this},b:function(a){this.x=a.x;this.y=a.y;return this},add:function(a){this.x+=a.x;this.y+=a.y;return this},sub:function(a){this.x-=a.x;this.y-=a.y;return this},G:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},o:function(a){this.x*=a;this.y*=a;return this},V:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<
a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);return this},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},J:function(a){return this.x*a.x+this.y*a.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.V(this.length())},oa:function(a){var b=this.x-a.x;a=this.y-a.y;
return b*b+a*a},clone:function(){return new A(this.x,this.y)}};function B(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0}
B.prototype={constructor:B,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},b:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},sub:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},G:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},o:function(a){this.x*=a;this.y*=a;this.z*=a;return this},R:function(){var a;return function(b){void 0===a&&(a=new C);ba(a,b.m,ca(a,b.D));b=this.x;var c=
this.y,e=this.z,f=a.elements,d=1/(f[3]*b+f[7]*c+f[11]*e+f[15]);this.x=(f[0]*b+f[4]*c+f[8]*e+f[12])*d;this.y=(f[1]*b+f[5]*c+f[9]*e+f[13])*d;this.z=(f[2]*b+f[6]*c+f[10]*e+f[14])*d;return this}}(),V:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},floor:function(){this.x=
Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},J:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.V(this.length())},oa:function(a){var b=
this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},clone:function(){return new B(this.x,this.y,this.z)}};function D(a,b,c,e){this.c=a||0;this.f=b||0;this.g=c||0;this.h=void 0!==e?e:1}
D.prototype={constructor:D,c:0,f:0,g:0,h:0,get x(){return this.c},set x(a){this.c=a},get y(){return this.f},set y(a){this.f=a},get z(){return this.g},set z(a){this.g=a},get ga(){return this.h},set ga(a){this.h=a},set:function(a,b,c,e){this.c=a;this.f=b;this.g=c;this.h=e;return this},b:function(a){this.c=a.x;this.f=a.y;this.g=a.z;this.h=a.ga;return this},Ka:function(){var a,b;return function(c,e){void 0===a&&(a=new B);b=c.J(e)+1;if(1E-6>b)b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,
c.y);else{var f=a,d=c.x,h=c.y,g=c.z,m=e.x,p=e.y,q=e.z;f.x=h*q-g*p;f.y=g*m-d*q;f.z=d*p-h*m}this.c=a.x;this.f=a.y;this.g=a.z;this.h=b;this.normalize();return this}}(),inverse:function(){this.c*=-1;this.f*=-1;this.g*=-1;this.normalize();return this},J:function(a){return this.c*a.c+this.f*a.f+this.g*a.g+this.h*a.h},length:function(){return Math.sqrt(this.c*this.c+this.f*this.f+this.g*this.g+this.h*this.h)},normalize:function(){var a=this.length();0===a?(this.g=this.f=this.c=0,this.h=1):(a=1/a,this.c=
this.c*a,this.f=this.f*a,this.g=this.g*a,this.h=this.h*a);return this},clone:function(){return new D(this.c,this.f,this.g,this.h)}};D.Na=function(){return(void 0).b(void 0).Na()};function C(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}
C.prototype={constructor:C,b:function(a){this.elements.set(a.elements);return this},o:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=a;b[15]*=a;return this},setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},scale:function(a){var b=this.elements,c=a.x,e=a.y;a=a.z;b[0]*=c;b[4]*=e;b[8]*=a;b[1]*=c;b[5]*=e;b[9]*=a;b[2]*=c;b[6]*=e;b[10]*=a;b[3]*=c;b[7]*=e;b[11]*=
a;return this}};function da(a,b,c,e,f,d,h){a=a.elements;a[0]=2*d/(c-b);a[4]=0;a[8]=(c+b)/(c-b);a[12]=0;a[1]=0;a[5]=2*d/(f-e);a[9]=(f+e)/(f-e);a[13]=0;a[2]=0;a[6]=0;a[10]=-(h+d)/(h-d);a[14]=-2*h*d/(h-d);a[3]=0;a[7]=0;a[11]=-1;a[15]=0}
function ca(a,b){var c=a.elements,e=b.elements,f=e[0],d=e[4],h=e[8],g=e[12],m=e[1],p=e[5],q=e[9],l=e[13],k=e[2],u=e[6],t=e[10],v=e[14],n=e[3],w=e[7],r=e[11],e=e[15];c[0]=q*v*w-l*t*w+l*u*r-p*v*r-q*u*e+p*t*e;c[4]=g*t*w-h*v*w-g*u*r+d*v*r+h*u*e-d*t*e;c[8]=h*l*w-g*q*w+g*p*r-d*l*r-h*p*e+d*q*e;c[12]=g*q*u-h*l*u-g*p*t+d*l*t+h*p*v-d*q*v;c[1]=l*t*n-q*v*n-l*k*r+m*v*r+q*k*e-m*t*e;c[5]=h*v*n-g*t*n+g*k*r-f*v*r-h*k*e+f*t*e;c[9]=g*q*n-h*l*n-g*m*r+f*l*r+h*m*e-f*q*e;c[13]=h*l*k-g*q*k+g*m*t-f*l*t-h*m*v+f*q*v;c[2]=p*
v*n-l*u*n+l*k*w-m*v*w-p*k*e+m*u*e;c[6]=g*u*n-d*v*n-g*k*w+f*v*w+d*k*e-f*u*e;c[10]=d*l*n-g*p*n+g*m*w-f*l*w-d*m*e+f*p*e;c[14]=g*p*k-d*l*k-g*m*u+f*l*u+d*m*v-f*p*v;c[3]=q*u*n-p*t*n-q*k*w+m*t*w+p*k*r-m*u*r;c[7]=d*t*n-h*u*n+h*k*w-f*t*w-d*k*r+f*u*r;c[11]=h*p*n-d*q*n-h*m*w+f*q*w+d*m*r-f*p*r;c[15]=d*q*k-h*p*k+h*m*u-f*q*u-d*m*t+f*p*t;c=f*c[0]+m*c[4]+k*c[8]+n*c[12];if(0==c)return aa("Can't invert matrix, determinant is 0"),a.Sa(),a;a.o(1/c);return a}
function ba(a,b,c){var e=b.elements;c=c.elements;a=a.elements;b=e[0];var f=e[4],d=e[8],h=e[12],g=e[1],m=e[5],p=e[9],q=e[13],l=e[2],k=e[6],u=e[10],t=e[14],v=e[3],n=e[7],w=e[11],e=e[15],r=c[0],x=c[4],I=c[8],E=c[12],F=c[1],O=c[5],P=c[9],Q=c[13],R=c[2],S=c[6],T=c[10],U=c[14],V=c[3],W=c[7],X=c[11];c=c[15];a[0]=b*r+f*F+d*R+h*V;a[4]=b*x+f*O+d*S+h*W;a[8]=b*I+f*P+d*T+h*X;a[12]=b*E+f*Q+d*U+h*c;a[1]=g*r+m*F+p*R+q*V;a[5]=g*x+m*O+p*S+q*W;a[9]=g*I+m*P+p*T+q*X;a[13]=g*E+m*Q+p*U+q*c;a[2]=l*r+k*F+u*R+t*V;a[6]=l*x+
k*O+u*S+t*W;a[10]=l*I+k*P+u*T+t*X;a[14]=l*E+k*Q+u*U+t*c;a[3]=v*r+n*F+w*R+e*V;a[7]=v*x+n*O+w*S+e*W;a[11]=v*I+n*P+w*T+e*X;a[15]=v*E+n*Q+w*U+e*c};function G(){}
G.prototype={constructor:G,apply:function(a){a.addEventListener=G.prototype.addEventListener;a.ra=G.prototype.ra;a.removeEventListener=G.prototype.removeEventListener;a.dispatchEvent=G.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this.j&&(this.j={});var c=this.j;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&c[a].push(b)},ra:function(a,b){if(void 0===this.j)return!1;var c=this.j;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){if(void 0!==this.j){var c=
this.j[a];if(void 0!==c){var e=c.indexOf(b);-1!==e&&c.splice(e,1)}}},dispatchEvent:function(a){if(void 0!==this.j){var b=this.j[a.type];if(void 0!==b){a.target=this;for(var c=[],e=b.length,f=0;f<e;f++)c[f]=b[f];for(f=0;f<e;f++)c[f].call(this,a)}}}};var ea=function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,e;return function(){for(var f=0;36>f;f++)8==f||13==f||18==f||23==f?b[f]="-":14==f?b[f]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),e=c&15,c>>=4,b[f]=a[19==f?e&3|8:e]);return b.join("")}}(),H=function(){var a=Math.PI/180;return function(b){return b*a}}(),fa=function(){var a=180/Math.PI;return function(b){return b*a}}();function J(){Object.defineProperty(this,"id",{value:ga++});ea();this.name="";this.type="Object3D";this.parent=void 0;this.children=[];this.Pa=J.xa.clone();Object.defineProperties(this,{position:{enumerable:!0,value:new B},da:{enumerable:!0,value:new D},scale:{enumerable:!0,value:new B(1,1,1)}});this.v=new C;this.m=new C;this.$=!0;this.ba=!1;this.visible=!0}J.xa=new B(0,1,0);
J.prototype={constructor:J,add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return z("Object3D.add: object can't be added as a child of itself.",a),this;a instanceof J?(void 0!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):z("Object3D.add: object not an instance of Object3D.",a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);
b=this.children.indexOf(a);-1!==b&&(a.parent=void 0,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))}};
function K(a,b){if(!0===a.$){var c=a.v,e=a.position,f=a.scale,d=a.da,h=c.elements,g=d.x,m=d.y,p=d.z,q=d.ga,l=g+g,k=m+m,u=p+p,d=g*l,t=g*k,g=g*u,v=m*k,m=m*u,p=p*u,l=q*l,k=q*k,q=q*u;h[0]=1-(v+p);h[4]=t-q;h[8]=g+k;h[1]=t+q;h[5]=1-(d+p);h[9]=m-l;h[2]=g-k;h[6]=m+l;h[10]=1-(d+v);h[3]=0;h[7]=0;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;c.scale(f);c.setPosition(e);a.ba=!0}if(!0===a.ba||!0===b)void 0===a.parent?a.m.b(a.v):ba(a.m,a.parent.m,a.v),a.ba=!1,b=!0;c=0;for(e=a.children.length;c<e;c++)K(a.children[c],
b)}G.prototype.apply(J.prototype);var ga=0;function L(){J.call(this);this.type="Camera";this.aa=new C;this.D=new C}L.prototype=Object.create(J.prototype);L.prototype.constructor=L;function M(a,b,c,e){L.call(this);this.type="PerspectiveCamera";this.zoom=1;this.l=void 0!==a?a:50;this.T=void 0!==b?b:1;this.w=void 0!==c?c:.1;this.K=void 0!==e?e:2E3;var f=fa(2*Math.atan(Math.tan(.5*H(this.l))/this.zoom));if(this.Z)c=this.Z/this.pa,a=Math.tan(H(.5*f))*this.w,e=-a,b=c*e,c=Math.abs(c*a-b),e=Math.abs(a-e),da(this.D,b+this.x*c/this.Z,b+(this.x+this.width)*c/this.Z,a-(this.y+this.height)*e/this.pa,a-this.y*e/this.pa,this.w,this.K);else{a=this.D;b=this.T;c=this.w;e=this.K;var f=c*Math.tan(H(.5*
f)),d=-f;da(a,d*b,f*b,d,f,c,e)}}M.prototype=Object.create(L.prototype);M.prototype.constructor=M;M.prototype.clone=function(){var a=new M;L.prototype.clone.call(this,a);a.zoom=this.zoom;a.l=this.l;a.T=this.T;a.w=this.w;a.K=this.K;a.D.b(this.D);return a};function N(){J.call(this);this.type="Scene";this.ca=this.Y=null;this.ma=!0}N.prototype=Object.create(J.prototype);N.prototype.constructor=N;N.prototype.clone=function(a){void 0===a&&(a=new N);J.prototype.clone.call(this,a);null!==this.Y&&(a.Y=this.Y.clone());null!==this.ca&&(a.ca=this.ca.clone());a.ma=this.ma;a.$=this.$;return a};function Y(a){J.call(this);this.element=a;this.element.style.position="absolute";this.addEventListener("removed",function(){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})}Y.prototype=Object.create(J.prototype);function ha(a){Y.call(this,a)}ha.prototype=Object.create(Y.prototype);
function ia(){function a(c,d){if(c instanceof Y){var e;c instanceof ha?(g.b(d.aa),g.Ua(),g.Ra(c.m),g.scale(c.scale),g.elements[3]=0,g.elements[7]=0,g.elements[11]=0,g.elements[15]=1,e=b(g)):e=b(c.m);var f=c.element,h=q[c.id];if(void 0===h||h!==e)f.style.WebkitTransform=e,f.style.MozTransform=e,f.style.Fa=e,f.style.transform=e,q[c.id]=e;f.parentNode!==k&&k.appendChild(f)}e=0;for(f=c.children.length;e<f;e++)a(c.children[e],d)}function b(a){a=a.elements;return"translate3d(-50%,-50%,0) matrix3d("+c(a[0])+
","+c(a[1])+","+c(a[2])+","+c(a[3])+","+c(-a[4])+","+c(-a[5])+","+c(-a[6])+","+c(-a[7])+","+c(a[8])+","+c(a[9])+","+c(a[10])+","+c(a[11])+","+c(a[12])+","+c(a[13])+","+c(a[14])+","+c(a[15])+")"}function c(a){return 1E-6>Math.abs(a)?0:a}var e,f,d,h,g=new C,m=0,p="",q={},l=document.createElement("div");l.style.overflow="hidden";l.style.WebkitTransformStyle="preserve-3d";l.style.ua="preserve-3d";l.style.Ga="preserve-3d";l.style.transformStyle="preserve-3d";this.a=l;var k=document.createElement("div");
k.style.WebkitTransformStyle="preserve-3d";k.style.ua="preserve-3d";k.style.Ga="preserve-3d";k.style.transformStyle="preserve-3d";l.appendChild(k);this.Ma=function(a,b){e=a;f=b;d=e/2;h=f/2;l.style.width=a+"px";l.style.height=b+"px";k.style.width=a+"px";k.style.height=b+"px"};this.i=function(b,e){var g=.5/Math.tan(H(.5*e.l))*f;m!==g&&(l.style.WebkitPerspective=g+"px",l.style.MozPerspective=g+"px",l.style.Ta=g+"px",l.style.perspective=g+"px",m=g);K(b);void 0===e.parent&&K(e);ca(e.aa,e.m);var n=e.aa.elements,
g="translate3d(0,0,"+g+"px)"+("matrix3d("+c(n[0])+","+c(-n[1])+","+c(n[2])+","+c(n[3])+","+c(n[4])+","+c(-n[5])+","+c(n[6])+","+c(n[7])+","+c(n[8])+","+c(-n[9])+","+c(n[10])+","+c(n[11])+","+c(n[12])+","+c(-n[13])+","+c(n[14])+","+c(n[15])+")")+" translate3d("+d+"px,"+h+"px, 0)";p!==g&&(k.style.WebkitTransform=g,k.style.MozTransform=g,k.style.Fa=g,p=k.style.transform=g);a(b,e)}};function ja(a,b){function c(a){if(!1!==d.enabled){a.preventDefault();if(x===r.ha){if(!0===d.B)return;k.set(a.clientX,a.clientY);u.G(k,l);0<u.y?d.W():d.X();l.b(k)}else if(x===r.ia){if(!0===d.A)return;g.set(a.clientX,a.clientY);m.G(g,h);d.pan(m.x,m.y);h.b(g)}d.update()}}function e(a){if(!1!==d.enabled){if(2==a.button&&"undefined"!==d.fa&&130>new Date-d.fa.time){a=d.fa.Ha;var b=new CustomEvent("mz_contextmenu"),f;for(f in a)a.hasOwnProperty(f)&&(b[f]=a[f]);a.target.dispatchEvent(b)}document.removeEventListener("mousemove",
c,!1);document.removeEventListener("mouseup",e,!1);d.dispatchEvent(F);x=r.NONE}}function f(a){!0===d.S&&(d.clientX=a.clientX,d.clientY=a.clientY,d.ea=!0);if(!1!==d.enabled&&!0!==d.B){var b=0;void 0!==a.wheelDelta?b=a.wheelDelta:void 0!==a.detail&&(b=-a.detail);0<b?d.X():d.W();d.update();d.dispatchEvent(E);d.dispatchEvent(F)}}this.object=a;this.a=void 0!==b?b:document;this.enabled=!0;this.target=new B;this.B=!1;this.H=1;this.S=!0;this.N=.05;this.I=this.M=1;this.C=2;this.A=!1;this.L=7;this.Ea=!1;this.keys=
{ta:37,wa:38,va:39,sa:40};var d=this,h=new A,g=new A,m=new A,p=new B,q=new B,l=new A,k=new A,u=new A,t=1,v=new B,n=new B,w=new D,r={NONE:-1,ha:1,ia:2,ja:4,ka:5},x=r.NONE;this.Oa=this.target.clone();this.Ia=this.object.position.clone();(new D).Ka(a.Pa,new B(0,1,0)).clone().inverse();var I={type:"change"},E={type:"start"},F={type:"end"};this.La=function(a){t=.5/Math.tan(H(.5*this.object.l))*this.a.clientHeight/a/this.object.position.z};this.O=function(a){var b=this.object.v.elements;p.set(b[0],b[1],
b[2]);p.o(-a);v.add(p)};this.P=function(a){var b=this.object.v.elements;p.set(b[4],b[5],b[6]);p.o(a);v.add(p)};this.pan=function(a,b){var c=d.a===document?d.a.body:d.a;if(void 0!==d.object.l){var e=d.object.position.clone().sub(d.target).length(),e=e*Math.tan(d.object.l/2*Math.PI/180);d.O(2*a*e/c.clientHeight);d.P(2*b*e/c.clientHeight)}else void 0!==d.object.top?(d.O(a*(d.object.right-d.object.left)/c.clientWidth),d.P(b*(d.object.top-d.object.bottom)/c.clientHeight)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")};
this.W=function(){var a;void 0===a&&(a=Math.pow(.95,d.H));t/=a};this.X=function(){var a;void 0===a&&(a=Math.pow(.95,d.H));t*=a};this.R=function(a){var b=new B;b.set(d.clientX/d.a.clientWidth*2-1,2*-(d.clientY/d.a.clientHeight)+1,.5);b.R(a);var b=b.sub(a.position).normalize(),c=-a.position.z/b.z;return a.position.clone().add(b.o(c))};this.update=function(a){var b;d.ea&&(b=d.R(this.object).clone());var c=this.object.position;q.b(c).sub(this.target);var e=q.length()*t,f=.5/Math.tan(H(.5*this.object.l))*
this.a.clientHeight;q.z=Math.max(f/this.M,Math.min(f/this.N,e));d.I=f/q.z;this.target.add(v);c.b(this.target).add(q);t=1;v.set(0,0,0);if(!0===d.ea&&!0!==a)d.ea=!1,K(this.object),a=d.R(this.object).sub(b),d.O(a.x),d.P(-a.y),d.update();else if(1E-6<n.oa(this.object.position)||1E-6<8*(1-w.J(this.object.da)))this.dispatchEvent(I),n.b(this.object.position),w.b(this.object.da)};this.reset=function(){x=r.NONE;this.target.b(this.Oa);this.object.position.b(this.Ia);this.update()};this.a.addEventListener("mousedown",
function(a){if(!1!==d.enabled){if(1===a.button){if(!0===d.B)return;a.preventDefault();x=r.ha;l.set(a.clientX,a.clientY)}else if(a.button===d.C){if(!0===d.A)return;a.preventDefault();x=r.ia;h.set(a.clientX,a.clientY);d.fa={time:new Date,Ha:a}}document.addEventListener("mousemove",c,!1);document.addEventListener("mouseup",e,!1);d.dispatchEvent(E)}},!1);this.a.addEventListener("mousewheel",f,!1);this.a.addEventListener("DOMMouseScroll",f,!1);this.a.addEventListener("touchstart",function(a){if(!1!==d.enabled){switch(a.touches.length){case 1:return;
case 2:if(!0===d.B)return;x=r.ja;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;l.set(0,Math.sqrt(b*b+a*a));break;case 3:if(!0===d.A)return;x=r.ka;h.set(a.touches[0].pageX,a.touches[0].pageY);break;default:x=r.NONE}d.dispatchEvent(E)}},!1);this.a.addEventListener("touchend",function(){!1!==d.enabled&&(d.dispatchEvent(F),x=r.NONE)},!1);this.a.addEventListener("touchmove",function(a){if(!1!==d.enabled)switch(a.preventDefault(),a.stopPropagation(),a.touches.length){case 1:break;
case 2:if(!0===d.B)break;if(x!==r.ja)break;var b=a.touches[0].pageX-a.touches[1].pageX;a=a.touches[0].pageY-a.touches[1].pageY;k.set(0,Math.sqrt(b*b+a*a));u.G(k,l);0<u.y?d.X():d.W();l.b(k);d.update();break;case 3:if(!0===d.A)break;if(x!==r.ka)break;g.set(a.touches[0].pageX,a.touches[0].pageY);m.G(g,h);d.pan(m.x,m.y);h.b(g);d.update();break;default:x=r.NONE}},!1);window.addEventListener("keydown",function(a){if(!1!==d.enabled&&!0!==d.Ea&&!0!==d.A)switch(a.keyCode){case d.keys.wa:d.pan(0,d.L);d.update();
break;case d.keys.sa:d.pan(0,-d.L);d.update();break;case d.keys.ta:d.pan(d.L,0);d.update();break;case d.keys.va:d.pan(-d.L,0),d.update()}},!1);this.update()}ja.prototype=Object.create(G.prototype);function Z(a){a=a||{};var b={};b.za=a.containerId||"makeItZoom";b.M=a.maxZoomScale||1;b.N=a.minZoomScale||.1;b.H=a.zoomSpeed||2;b.S=!1!==a.zoomTowardMouse;b.C="undefined"!=typeof a.panButton?a.C:2;b.na="boolean"===typeof a.disableNativeContextMenu?a.na:!0;this.options=b;this.u=document.getElementById(b.za);this.width=this.u.offsetWidth;this.height=this.u.offsetHeight;this.U=new M(70,this.width/this.height,1,1E6);this.U.position.z=1200;this.s=new N;this.F=new ia;this.F.Ma(this.width,this.height);document.body.appendChild(this.F.a);
this.F.a.className="makeitzoom_container";this.i=this.i.bind(this);ka(this);this.Ca.call(this,this.u);this.i()}y=Z.prototype;y.Aa=function(){return this.u};y.Ca=function(a){var b=this;la(this,a,function(a){a.Da=b.qa(a)});la(this,a,function(a){b.la.call(b,a,a.Da)})};function la(a,b,c){b=b.children;for(var e=0;e<b.length;e++)c.call(a,b[e])}
function ka(a){a.controls=new ja(a.U,a.F.a);a.controls.H=a.options.H;a.controls.N=a.options.N;a.controls.M=a.options.M;a.controls.S=a.options.S;a.controls.C=a.options.C;!0===a.options.na&&a.controls.a.addEventListener("contextmenu",function(a){a.preventDefault()},!1);a.controls.addEventListener("change",a.i);a.i()}
y.i=function(){this.F.i(this.s,this.U);var a=new CustomEvent("mz_render");a.mz_center_x=this.controls.object.position.x;a.mz_scale=this.controls.I;this.u.dispatchEvent(a);a.mz_center_y=this.controls.object.position.y};y.la=function(a,b){var c=new Y(a);c.position.x=b.left;c.position.y=b.top;c.position.z=0;this.s.add(c)};y.ya=function(a,b){this.la(a,b);this.i()};
y.Ja=function(a){for(var b=null,c=0;c<this.s.children.length;c++)this.s.children[c].element===a&&(b=this.s.children[c]);null!==b?this.s.remove(b):console.warn("The specified element could not be removed from the makeItZoom workspace, because it couldn't be found.");this.i()};y.qa=function(a){for(var b=0,c=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)b+=a.offsetLeft-a.scrollLeft,c+=a.offsetTop-a.scrollTop,a=a.offsetParent;return{top:c,left:b}};y.Ba=function(){return this.controls.I};
y.Qa=function(a,b,c){var e=this.controls.object.position.x,f=this.controls.object.position.y,d=this.controls.I;"number"!==typeof a&&(a=e);"number"!==typeof b&&(b=f);"number"!==typeof c&&(c=d);this.controls.O(e-a);this.controls.P(b-f);this.controls.La(c);this.controls.update(!0)};window.makeItZoom=Z;Z.prototype.addZoomable=Z.prototype.ya;Z.prototype.removeZoomable=Z.prototype.Ja;Z.prototype.zoomTo=Z.prototype.Qa;Z.prototype.getCurrentScale=Z.prototype.Ba;Z.prototype.getOffset=Z.prototype.qa;
Z.prototype.getContainer=Z.prototype.Aa;
